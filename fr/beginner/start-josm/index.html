<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8">
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no'>
    <title>LearnOSM</title>
    <link href="/learnosm-sandbox/reset.css" rel="stylesheet" type="text/css">
    <link href="/learnosm-sandbox/style.css" rel="stylesheet" type="text/css">
    <link href="/learnosm-sandbox/print.css" rel="stylesheet" type="text/css" media="print">
    <link rel='shortcut icon' href='/learnosm-sandbox/img/favicon.ico' type='image/x-icon' />
    <link href="http://code.jquery.com/ui/1.9.2/themes/base/jquery-ui.css" rel="stylesheet" >
    <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700,400italic|Quattrocento+Sans:400,700&subset=latin,latin-ext' rel='stylesheet' type='text/css'>
    <script src="/learnosm-sandbox/vendor/jquery-1.8.2.min.js"></script>
    <script src="/learnosm-sandbox/vendor/jquery-ui-1.9.2.custom.js"></script>
    <script>
      window.app = window.app || {};
      window.app.permalink = '';
      window.app.baseurl = '/learnosm-sandbox';
      window.app.lang = 'fr';
      // Google Analytics
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-7046215-3']);
      _gaq.push(['_trackPageview']);
      (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
    <script src="/learnosm-sandbox/site.js"></script>
  </head>
  <body>
  <div id='wrapper'>
    <div class="fillG cell12" id="banner-top">
      <small class='language-switcher marginL cell6 cf'> <!-- fixme: href aren't regenerated by javascript ? -->
      
        
        
            
              <a href="/learnosm-sandbox/bi/beginner/start-josm/">Bahasa Indonesia</a>
            
            
             | 
        
            
              <a href="/learnosm-sandbox/de/beginner/start-josm/">Deutsch</a>
            
            
             | 
        
            
              <a href="/learnosm-sandbox/en/beginner/start-josm/">English</a>
            
            
             | 
        
            
              <a href="/learnosm-sandbox/es/beginner/start-josm/">Español</a>
            
            
             | 
        
            
              <a class="active">Français</a>
            
            
             | 
        
            
              <a href="/learnosm-sandbox/hr/beginner/start-josm/">Hrvatski</a>
            
            
             | 
        
            
              <a href="/learnosm-sandbox/it/beginner/start-josm/">Italiano</a>
            
            
             | 
        
            
              <a href="/learnosm-sandbox/pt/beginner/start-josm/">Português</a>
            
            
             | 
        
            
              <a href="/learnosm-sandbox/jp/beginner/start-josm/">日本語</a>
            
            
            
        

      </small>
      <!-- small search bar does not appear on the front page -->
      
      <form class='searchbox-default rounded'>
        <span class='icon logo-search'></span>
        <input id='search-field' type='text' name='search' class='default-value' />
      </form>
      
    </div>
    <div id='header' class='cell12'>
      <div class='marginL cell9 padAll'>
        <div class='cell7 marginR'>
           <span><a href='/learnosm-sandbox/fr' class="logo logo-learn"></a></span>
           <span class='tagline'>Apprendre OpenStreetMap pas à pas</span>
        </div>
        <a class='banner hide-mobile'>
          <span class='fr'>Contribuer à ces guides</span>
        </a>
        <a class='banner-mobile hide-desktop show-mobile' href='/learnosm-sandbox/fr/contribute/'>
        </a>
      </div>
    </div>
    <div id='content' class='cf'>
      
      
       <!-- fixme: lang is removed from front matter. Work but not readable -->


<div class='doc-nav marginL cell3 padAll cf' id='doc-nav-left'>
  <ul>
    <!--
        fixme: display all pages in the same language, and the order of chapters is wrong:
        use content.txt
        see https://www.penflip.com/Penflip/help/blob/master/working-offline/organizing-contents.md
    -->


    <!--
        fixme: currently, display only the toc of beginner's guide !!
    -->
    
      <li class='doc rounded'>
        <a class='title cover ' href="/learnosm-sandbox/fr/beginner/">
          <span>Guide du débutant</span>
        </a>
      </li>
    
      <li class='doc rounded'>
        <a class='title  ' href="/learnosm-sandbox/fr/beginner/introduction/">
          <span>Introduction</span>
        </a>
      </li>
    
      <li class='doc rounded'>
        <a class='title  ' href="/learnosm-sandbox/fr/beginner/start-osm/">
          <span>Introduction à OpenStreetMap.org</span>
        </a>
      </li>
    
      <li class='doc rounded'>
        <a class='title  active' href="/learnosm-sandbox/fr/beginner/start-josm/">
          <span>Premiers pas avec JOSM</span>
        </a>
      </li>
    
      <li class='doc rounded'>
        <a class='title  ' href="/learnosm-sandbox/fr/beginner/gps/">
          <span>Sur le terrain avec un GPS</span>
        </a>
      </li>
    
      <li class='doc rounded'>
        <a class='title  ' href="/learnosm-sandbox/fr/beginner/papers/">
          <span>Étude de terrain avec les Field Papers</span>
        </a>
      </li>
    
      <li class='doc rounded'>
        <a class='title  ' href="/learnosm-sandbox/fr/beginner/editing-with-josm/">
          <span>Éditer avec JOSM</span>
        </a>
      </li>
    
      <li class='doc rounded'>
        <a class='title  ' href="/learnosm-sandbox/fr/beginner/moving-forward/">
          <span>Pour aller plus loin</span>
        </a>
      </li>
    
  </ul>

  <ul style="margin-top:40px;">
      <li class='doc rounded'>
        <a class='title cover'>
          <span>Les autres niveaux</span>
        </a>
      </li>
      
      
        
        
      
        
        
          
        
      
        
        
      
        
        
          
        
      
        
        
      
        
        
      
        
        
          
        
      
        
        
      
        
        
          
        
      
        
        
          
        
      
        
        
      
        
        
      
        
        
      
        
        
          
        
      
        
        
      
        
        
          
        
      
        
        
      
        
        
      
        
        
      
        
        
          
        
      
        
        
          
        
      
        
        
      
        
        
          
        
      
        
        
      
        
        
          
        
      
        
        
      
        
        
          
        
      
        
        
      
        
        
      
        
        
          
        
      
        
        
      
        
        
      
        
        
          
        
      
        
        
          
        
      
  </ul>

</div>
<div class='doc-main doc cell5 padAll'>
  <h1>Premiers pas avec JOSM</h1>
  <p>Dans ce chapitre, nous allons voir pas à pas comment télécharger et installer
JOSM, l’éditeur d’OpenStreetMap en Java. Nous allons aussi changer quelques
paramètres pour que JOSM soit plus facile à utiliser. Ensuite nous allons
télécharger une carte de test, qui va nous permettre d’apprendre
les rudiments du logiciel. Vous vous souvenez quand vous avez dû tracer la
carte de votre ville ou village dans le chapitre 1 ? A la fin de ce chapitre,
nous allons de nouveau en tracer la carte, mais cette fois sur l’ordinateur.
Vous aurez alors une bonne vue d’ensemble de la création de carte avec JOSM.</p>

<h2 id="tlcharger-josm">Télécharger JOSM</h2>

<blockquote>
  <p>Si vous avez une copie de JOSM sur un CD ou une clé USB, vous pouvez
directement passer à la section 2, «Installer JOSM».</p>
</blockquote>

<ul>
  <li>Si vous n’avez pas encore JOSM, ou si vous voulez mettre à jour votre
version, lancer votre navigateur Internet — ce peut être Firefox, Chrome,
Opera, ou Internet Explorer.</li>
  <li>Dans la barre d’adresse en haut de la fenêtre, entrez le texte suivant puis
appuyez sur entrée: <a href="http://josm.openstreetmap.de">josm.openstreetmap.de</a></li>
  <li>Vous pouvez aussi trouver ce site en cherchant «JOSM» dans un moteur de
recherche</li>
  <li>
    <p>Le site doit ressembler à ça:</p>

    <p><img src="/learnosm-sandbox/images/start_josm_image05_fr.png" alt="" /></p>
  </li>
  <li>Si vous utilisez Windows, cliquez sur le lien «Installeur Windows». Si vous
avez un autre système d’exploitation, cliquez sur le lien adéquat. Le
téléchargement devrait commencer. Dans ce chapitre, nous allons voir la
procédure pour Windows, mais les instructions sont les mêmes pour les autres
systèmes d’exploitation.</li>
</ul>

<h2 id="installer-josm">Installer JOSM</h2>

<ul>
  <li>Si Java n’est pas installé sur votre ordinateur, l’installation va échouer.
Si c’est le cas, essayez de télécharger et installer Java. Vous pouvez le
télécharger ici:
<a href="http://www.java.com/fr/download/">http://www.java.com/fr/download/</a></li>
  <li>Localiser l’installeur JOSM sur votre ordinateur. Double-cliquez dessus pour
lancer l’installation.</li>
  <li>Cliquez sur «OK», puis «Suivant», «J’accepte», et enfin «Installer». Quand
l’installation est finie, cliquez sur «Finir» pour lancer JOSM pour la
première fois. A l’avenir, pour lancer JOSM, utilisez le menu Lancement dans
le coin en bas à gauche de votre ordinateur, et sélectionnez le programme
JOSM.</li>
  <li>Si une fenêtre vous propose de mettre à jour le logiciel, ce n’est pas la
peine puisque vous venez d’installer la dernière version. Cliquez sur le
bouton «Annuler». Si vous ne voulez plus voir ce message, cochez la case
à côté du bouton «Annuler» avant d’appuyer.</li>
  <li>
    <p>Quand JOSM est lancé, voici à quoi il ressemble:</p>

    <p><img src="/learnosm-sandbox/images/start_josm_image08_en.png" alt="" /></p>
  </li>
</ul>

<h2 id="changer-les-paramtres-de-josm">Changer les paramètres de JOSM</h2>

<p>Avant de commencer à l’utiliser, on va changer quelques paramètres qui vont
rendre son utilisation plus facile. Pour cela, cliquez sur «Modifier» dans la
barre de menu du haut, puis choisissez «Préférences».</p>

<p><img src="/learnosm-sandbox/images/start_josm_image13_en.png" alt="" /></p>

<h3 id="ajouter-des-modles-dattributs">Ajouter des modèles d’attributs</h3>

<p>Si vous avez un fichier qui doit être ajouté aux modèles d’attributs, c’est
le moment de l’utiliser. Par exemple, un tel fichier pourrait être nommé
«buildings.xml».</p>

<ul>
  <li>
    <p>Toujours dans la fenêtre des préférences, cliquez sur l’icône qui ressemble
à une grille.</p>

    <p><img src="/learnosm-sandbox/images/start_josm_image09_en.png" alt="" /></p>
  </li>
  <li>Cliquez sur l’onglet «Modèles d’attributs» en haut de la fenêtre.</li>
  <li>Cliquez sur le bouton «+» en haut à droite de la fenêtre.</li>
  <li>Cliquez sur le bouton qui ressemble à un dossier, à droite du deuxième
champ. Naviguez jusqu’au fichier que vous voulez ajouter, par exemple
«buildings.xml».</li>
  <li>Cliquez sur «OK».</li>
</ul>

<h3 id="ajouter-le-greffon-walking-papers">Ajouter le greffon Walking Papers</h3>

<p>Plus loin dans ce guide, nous allons apprendre à utiliser un outil appelé
«Walking Papers», qui nous permettra d’imprimer la carte d’une zone, pour
tracer dessus et prendre des notes, et enfin la charger comme arrière-plan
dans JOSM. Ceci nous permettra d’ajouter nos dessins et nos notes dans
OpenStreetMap. Nous allons donc ajouter maintenant le greffon Walking
Papers.</p>

<ul>
  <li>Si vous avez fermé la fenêtre des préférences, vous pouvez l’ouvrir à
nouveau via le menu «Modifier», en choisissant «Préférences».</li>
  <li>
    <p>Sur la partie gauche, cliquez sur l’icône qui ressemble à une prise.</p>

    <p><img src="/learnosm-sandbox/images/start_josm_image04_en.png" alt="" /></p>
  </li>
  <li>Cliquez sur «Télécharger la liste». La liste des greffons disponibles va
être téléchargée, et devrait apparaître dans la fenêtre.</li>
  <li>Dans le champ de recherche en haut de la fenêtre, tapez «walking». Seuls les
greffons ayant «walking» dans le titre devraient maintenant apparaître.</li>
  <li>Cochez la case à côté du plugin «walkingpapers», et appuyez sur «Valider» en
bas de la fenêtre.</li>
  <li>Le greffon Walking Papers va maintenant être téléchargé et installé.</li>
</ul>

<h3 id="changer-la-langue">Changer la langue</h3>

<p>JOSM a été traduit dans de nombreuses langues. S’il a été traduit dans votre
langue, vous pouvez l’activer via les préférences.</p>

<ul>
  <li>Si vous avez fermé la fenêtre des préférences, vous pouvez l’ouvrir via le
menu «Modifier» puis «Préférences».</li>
  <li>Sur la partie gauche de la fenêtre, cliquez sur l’icône avec un rouleau et
un pot de peinture.</li>
  <li>Cliquez, en haut de la fenêtre, sur l’onglet «Apparence».</li>
  <li>Choisissez votre langue dans le menu déroulant à gauche du mot «Langue».</li>
  <li>
    <p>Cliquez sur «Valider»</p>

    <p><img src="/learnosm-sandbox/images/start_josm_image01_en.png" alt="" /></p>
  </li>
  <li>Il faut maintenant relancer JOSM pour que vos modifications soient prises
en compte. Via le menu «Fichier» de la barre du haut, choisissez «Quitter».</li>
  <li>Vous pouvez relancer JOSM via le menu «Démarrer», dans le coin en bas à
gauche de votre écran. Localisez JOSM et cliquez dessus pour le lancer.</li>
</ul>

<h2 id="les-bases-du-trac-avec-josm">Les bases du tracé avec JOSM</h2>

<ul>
  <li>Commençons par télécharger une carte OSM de test que nous allons
utiliser pour apprendre les rudiments de JOSM. Notez que ceci n’est pas une
carte réelle, et que donc nous n’allons pas ajouter nos modifications à
OpenStreetMap pour le moment.</li>
  <li>Si votre instructeur a mis des fichiers à votre disposition, vous avez
certainement déjà le fichier dont nous aurons besoin, nommé «sample.osm».</li>
  <li>
    <p>Si ce n’est pas le cas, vous pouvez le télécharger ici :
<a href="/files/sample.osm">sample.osm</a></p>
  </li>
  <li>
    <p>Maintenant, ouvrons le fichier dans JOSM. Ouvrez JOSM. Cliquez sur le bouton
«Ouvrir», dans le coin en haut à gauche.</p>

    <p><img src="/learnosm-sandbox/images/start_josm_image12_en.png" alt="" /></p>
  </li>
  <li>Naviguez jusqu’au fichier «sample.osm», sélectionnez-le, puis cliquez sur
«Ouvrir».</li>
  <li>
    <p>Vous devriez maintenant voir une carte similaire à:</p>

    <p><img src="/learnosm-sandbox/images/start_josm_image03_en.png" alt="" /></p>
  </li>
</ul>

<h3 id="oprations-de-base">Opérations de base</h3>

<ul>
  <li>Pour déplacer la carte de droite à gauche ou de haut en bas, utilisez le
bouton droit de votre souris, que vous devez laissez appuyé tout en
déplaçant votre souris.</li>
  <li>Il y a plusieurs façons de zoomer ou dézoomer la carte. Si vous avez une
molette sur votre souris, vous pouvez l’utiliser. Sinon, vous pouvez
utiliser le curseur dans le coin en haut à gauche de la carte. Déplacer la
barre vers la gauche ou vers la droite avec votre souris pour zoomer ou
dézoomer.</li>
</ul>

<p><img src="/learnosm-sandbox/images/start_josm_image14_en.png" alt="" /></p>

<ul>
  <li>Prenez le temps de regarder la carte de test. Notez les différents types
d’objets: il y a une rivière, une forêt, quelques bâtiments, des routes, et
quelques magasins. Pour sélectionner un objet, faites un clic gauche dessus
avec votre souris.</li>
</ul>

<h3 id="points-lignes-et-polygones">Points, lignes et polygones</h3>

<ul>
  <li>En cliquant sur les différents objets de la carte, notez qu’il y a trois
types d’objets: des points, des lignes et des polygones.</li>
  <li>Les points sont des lieux simples, représentés par des symboles. Dans notre
carte d’exemple, nous avons deux points: une boutique de vêtements et un
marché. La boutique de vêtements est représentée par une image de maillot et
le marché, par un panier de courses.</li>
  <li>Il y a aussi des lignes sur la carte, qui représentent des routes. Si vous
regardez attentivement vous remarquerez que les lignes contiennent des
points. Aucune information et aucun symbole n’est associé avec ces points:
leur rôle est de déterminer le tracé de la ligne.</li>
  <li>Enfin, il y a différents polygones, qui représentent plusieurs lieux: une
forêt, une rivière, et des bâtiments. Un polygone représente généralement une
aire, par exemple un champ ou un bâtiment. Le polygone est en fait une
ligne avec une caractéristique notable: dans le cas d’un polygone, la ligne
commence et finit sur le même point.</li>
  <li>Vous avez peut-être remarqué la fenêtre «Attributs» qui apparaît sur la
droite quand vous sélectionnez un objet. Celle-ci liste ce qu’on appelle les
tags. Les tags sont associés un point, une ligne ou un polygone, et
permettent de les définir. Nous en apprendrons un peu plus sur les tags dans
le chapitre 7, «Édition avancée avec JOSM». Pour le moment, retenez que
les tags servent à déterminer si un objet est une forêt, une rivière, un
bâtiment, ou autre chose.</li>
  <li>Pensez au cartes dessinées à la main, est-ce qu’on utilise pas là aussi
des points, des lignes et des polygones ? Quels lieux peuvent être
représentés par des points ? par des lignes ? par des polygones ?</li>
</ul>

<h3 id="modifier-les-objets">Modifier les objets</h3>

<ul>
  <li>Sélectionnez la forêt qui est sur la gauche de la carte. Faites bien
attention de cliquer sur la ligne qui entoure la forêt, et pas sur un des
points qui la constituent. En maintenant votre clic droit enfoncé et en
déplaçant votre souris, vous devriez être capable de changer la forêt de
position.</li>
  <li>Cliquez maintenant sur un des points constituant le polygone de la forêt.
À l’aide de votre souris, en maintenant le clic gauche enfoncé, vous devriez
pouvoir déplacer ce point. C’est la façon de faire si vous avez besoin de
changer la forme d’un polygone, ou tout simplement pour changer la position
d’un point.</li>
</ul>

<h3 id="tracer">Tracer</h3>

<p>Tout à gauche de la fenêtre de JOSM, il y a une barre d’outils. Une partie
de ces boutons permettent d’ouvrir des fenêtres à droite qui affichent des
informations supplémentaires sur la carte. Mais les boutons qui nous
intéressent pour le moment sont en haut de cette barre d’outils. Ces boutons
permettent de définir ce que vous pouvez faire avec votre souris.</p>

<p>Les quatre boutons du haut sont les plus importants. Ils vous permettent de:</p>

<ul>
  <li>Sélectionner</li>
  <li>Tracer</li>
  <li>Zoomer</li>
  <li>
    <p>Effacer</p>
  </li>
  <li>
    <p>Jusqu’à présent, vous avez utilisé l’outil de sélection, qui ressemble à
ceci:</p>

    <p><img src="/learnosm-sandbox/images/start_josm_image00_en.png" alt="" /></p>
  </li>
  <li>Avant de commencer à tracer, assurez-vous que rien n’est sélectionné. Pour
cela, toujours avec l’outil de sélection, cliquez dans une zone vide de la
carte.</li>
  <li>
    <p>Vous pouvez maintenant cliquer sur le deuxième bouton, celui pour tracer.</p>

    <p><img src="/learnosm-sandbox/images/start_josm_image10_en.png" alt="" /></p>
  </li>
  <li>Dans une zone vide de la carte, double-cliquez avec le bouton gauche de
votre souris. Vous venez de créer un point.</li>
  <li>Pour tracer une ligne, faites un simple clic avec votre souris. Déplacez
votre souris et cliquez de nouveau. Continuez jusqu’à que vous ayez obtenu
le résultat souhaité. Pour finir la ligne, double-cliquez avec votre souris.</li>
  <li>Le procédé est le même pour tracer un polygone, mais vous devez finir le
polygone en double-cliquant sur le premier point de la ligne.</li>
</ul>

<h3 id="utiliser-les-modles-dattributs">Utiliser les modèles d’attributs</h3>

<p>Nous savons désormais comment tracer des points, des lignes et des polygones,
mais pour l’instant nous n’avons pas défini ce qu’ils représentent. Nous voulons
être capable de dire qu’un point est une boutique, une école, ou autre chose, et
de même si nos polygones sont des champs, des bâtiments, ou autre chose.</p>

<ul>
  <li>
    <p>Dans la barre d’outils à gauche, cliquez de nouveau sur l’outil de
sélection.</p>

    <p><img src="/learnosm-sandbox/images/start_josm_image00_en.png" alt="" /></p>
  </li>
  <li>Sélectionnez un des objets que vous venez de tracer. Dans le menu du haut,
cliquez sur «Attributs». Déplacer votre souris dans les sous-menus jusqu’à
trouver le type de lieu que vous souhaitez.</li>
  <li>Après avoir sélectionné un modèle d’attributs, une fenêtre devrait s’ouvrir
pour vous permettre d’ajouter des informations. Tous les champs ne sont pas
obligatoires, mais vous voudrez certainement ajouter les plus importants,
par exemple le nom de votre lieu.</li>
  <li>Quand vous avez renseigné toutes les informations voulues, appuyer sur
«Appliquer les attributs». Si tout s’est bien passé, votre point, ligne ou
polygone devrait changer de couleur ou afficher un symbole. C’est parce que
vous avez maintenant défini de quoi il s’agit.</li>
</ul>

<h2 id="tracer-votre-carte">Tracer votre carte</h2>

<p>C’est le moment de tracer une carte pour mettre en pratique ce que l’on vient
d’apprendre. Vous pouvez par exemple tracer la carte que vous aviez dessiné dans
le chapitre 1.</p>

<ul>
  <li>À l’aide du bouton droit de votre souris, déplacez-vous dans une zone de la
carte totalement vide.</li>
  <li>Utilisé l’outil de tracé pour créer des points, des lignes et des polygones.
N’oubliez pas de définir les objets en utilisant le menu «Attributs».</li>
  <li>Quand vous aurez fini, vous devriez avoir une carte similaire à celle que
nous avons chargée avec le fichier «sample.osm».</li>
</ul>

<h2 id="en-rsum">En résumé</h2>

<p>Excellent ! Si tout s’est bien passé, vous avez appris comment installer JOSM
sur votre ordinateur, et vous connaissez maintenant les outils de base pour
tracer une carte. Dans les deux prochains chapitres, vous apprendrez à utiliser
un GPS et des Walking Papers pour tracer la carte de votre ville ou de votre
village. Dans le chapitre 6, nous retournerons sur JOSM pour utiliser les
informations récoltées, et les ajouter à OpenStreetMap.</p>

  
  
  <div class='feedback padAll'>
    <span>Avez-vous trouvé ce chapitre utile ?</span>
    <a href='/learnosm-sandbox/fr/contribute'>Aidez-nous à améliorer ces guides en donnant vos impressions!</a>
  </div>
  
</div>

<script>
  // loop through the node list to get the innerHTML from each node
  // copy that as the id for the node
  var addId = function(list){
    for (i = 0; i < list.length; i++) {
      element = list[i];
      sectionCopy = element.innerHTML.toLowerCase().replace(/ /g, '-').replace(/([^0-9a-z-])/g,''); //substitute space with dash
      element.id = sectionCopy;
    }
  };
  var allH2 = document.getElementsByTagName('h2');
  var allH3 = document.getElementsByTagName('h3');
  addId(allH2);
  addId(allH3);
  // make the titles linkable
  $('h2[id], h3[id]','.doc').attr('title', 'Permalien vers cette section').click(function(e) {
    window.location.hash = $(e.currentTarget).attr('id');
  });
  //select the image containers so the images can be centered, styles in css
  $('img').parent().addClass('has-image');
  
  // make title nav sticky
   // excluding cover pages
  $(document).ready(function(){
    var nav = $('.doc-nav'),
        navTop = nav.offset().top,
        navHeight = nav.outerHeight(true),
        footerHeight = $('#footer').outerHeight(true);
    $(window).scroll(function(e){
        var scrolled = $(this).scrollTop();
        var leftToScroll = $(document).height() - scrolled;
        
        if (scrolled >= navTop && leftToScroll > (footerHeight + navHeight + 20)) {
        // if in the middle - nav box is positioned fixed
            nav.addClass('fixed');
            nav.removeClass('bottom');
        } else if (scrolled < navTop) {
        // if at the beginning - nav box is positioned at top
            nav.removeClass('fixed');
            nav.removeClass('bottom');
        } else if (leftToScroll <= (footerHeight + navHeight + 20)) {
        // if at the end - nav box is positioned at bottom
        // only if height of viewport is not sufficient to have nav box and footer in it
            if ((footerHeight + navHeight + 20) > $(window).height()) {
                nav.removeClass('fixed');
                nav.addClass('bottom');
            }
        }
    });
  });
  
  // get the second url of doc nav and make it the url of the 'proceed' link
  var proceedTo = $('.doc-nav li:nth-child(2) a').attr('href');
  $('a.start').attr('href',proceedTo);
  // Set the min-height of the page dynamically based on height of navigation div
  $('.doc-main').css("min-height", function() {
    return $('#doc-nav-left').height() + 25;
  });
  
</script>
    <small id='footer' class='fillG cell12'>
      <ul class='contact marginL marginR cell5 padAll'>
        <li><a class='email' href="mailto:learnosm@hotosm.org">learnosm@hotosm.org</a></li>
        <li><a class='twitter' href="https://twitter.com/learnosm">@learnOSM</a></li>
        <li><a class='github' href='http://github.com/hotosm/learnosm'> Hosted on Github</a></li>
      </ul>
      <a rel="license" class="license" href="http://creativecommons.org/publicdomain/zero/1.0/">
      	<img src="/learnosm-sandbox/img/p_zero_1.0_80x15.png" alt="CC0" />
      </a>
      <div class='sponsors cell3 padAll'>
        <span>Official <a href='http://hot.openstreetmap.org/' target='_blank'>HOT OSM</a> learning materials</span>
        <a class='logo logo-hot left' href='http://hot.openstreetmap.org/' target='_blank'></a>
        <a class='logo logo-ausaid left' href='http://www.ausaid.gov.au/' target='_blank'></a>
        <a class='logo logo-bnpb left' href='http://www.bnpb.go.id/' target='_blank'></a>
      </div>
    </small>
  </div>
  </body>
  <script>
  // autocomplete search with all-translation json
    $.getJSON("/learnosm-sandbox/all-translation.json",function(data){
      var lang = "fr";
      data.forEach(function(o){
        if (o.lang === lang){
          var destination;
          $( "#search-field" ).autocomplete({
           autoFocus: true, // highlight the first search result in dropdown
           delay: 0,
           source: o.chapters,
           select: function(event, ui) {
             destination = ui.item.url;
             window.location = destination;
           }
          });
        }
      })
  });
  </script>
</html>
